{"version":3,"sources":["webpack:///./src/components/pages/Movieinfo.vue?7ae6","webpack:///src/components/pages/Movieinfo.vue","webpack:///./src/components/pages/Movieinfo.vue?6f1b","webpack:///./src/components/pages/Movieinfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","movie","imageUrl","alt","_v","_s","title","_f","price","origin_price","_e","category","description","on","click","$event","addtoCart","id","addAttention","class","fas","isAttention","far","text-danger","staticRenderFns","Movieinfovue_type_script_lang_js_","data","movieId","movieIndex","methods","Object","objectSpread","getMovieInfo","api","concat","vm","$store","dispatch","$http","get","then","response","console","log","product","itemId","qty","arguments","length","undefined","state","productsModules","products","findIndex","item","boolean","currentItem","attention","vuex_esm","computed","isLoading","created","$route","params","getProducts","pages_Movieinfovue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0ba116.e9f7e029.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container mt-110 overflow-hidden text-white\"},[_c('div',{staticClass:\"row my-4\"},[_c('div',{staticClass:\"col-md-5 d-flex\"},[_c('img',{staticClass:\"ml-auto\",attrs:{\"src\":_vm.movie.imageUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"col-md-5\"},[_c('h1',{staticClass:\"display-4\"},[_vm._v(_vm._s(_vm.movie.title))]),(_vm.movie.price)?_c('ul',{staticClass:\"list-inline mb-2 mb-sm-0\"},[_c('li',{staticClass:\"list-inline-item h4 font-weight-light mb-0 text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.movie.price)))]),_c('li',{staticClass:\"list-inline-item font-weight-light\"},[_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.movie.origin_price)))])])]):_vm._e(),_c('div',{staticClass:\"my-3\"},[_vm._v(\"\\n          類型 :\\n          \"),_c('span',{staticClass:\"d-inline-block border px-2 py-1\"},[_vm._v(_vm._s(_vm.movie.category))])]),_c('div',{staticClass:\"mb-3\"},[_vm._v(_vm._s(_vm.movie.description))]),_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-outline-light\",on:{\"click\":function($event){_vm.addtoCart(_vm.movie.id)}}},[_c('i',{staticClass:\"fa fa-shopping-cart\"}),_vm._v(\"\\n            加入購物車\\n          \")]),_c('button',{staticClass:\"btn btn-outline-light\",on:{\"click\":_vm.addAttention}},[_c('i',{staticClass:\"far fa-heart\",class:{ 'fas': _vm.isAttention, 'far': !_vm.isAttention, 'text-danger': _vm.isAttention }}),_vm._v(\"\\n            加入關注\\n          \")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container mt-110 overflow-hidden text-white\">\n      <div class=\"row my-4\">\n        <div class=\"col-md-5 d-flex\">\n          <img class=\"ml-auto\" :src=\"movie.imageUrl\" alt>\n        </div>\n        <div class=\"col-md-5\">\n          <h1 class=\"display-4\">{{ movie.title }}</h1>\n          <ul class=\"list-inline mb-2 mb-sm-0\" v-if=\"movie.price\">\n            <li\n              class=\"list-inline-item h4 font-weight-light mb-0 text-danger\"\n            >{{ movie.price | currency }}</li>\n            <li class=\"list-inline-item font-weight-light\">\n              <del>{{ movie.origin_price | currency }}</del>\n            </li>\n          </ul>\n          <div class=\"my-3\">\n            類型 :\n            <span class=\"d-inline-block border px-2 py-1\">{{ movie.category }}</span>\n          </div>\n          <div class=\"mb-3\">{{ movie.description }}</div>\n          <div class=\"btn-group\">\n            <button class=\"btn btn-outline-light\" @click=\"addtoCart(movie.id)\">\n              <i class=\"fa fa-shopping-cart\"></i>\n              加入購物車\n            </button>\n            <button class=\"btn btn-outline-light\" @click=\"addAttention\">\n              <i\n                class=\"far fa-heart\"\n                :class=\"{ 'fas': isAttention, 'far': !isAttention, 'text-danger': isAttention }\"\n              ></i>\n              加入關注\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nexport default {\n  data () {\n    return {\n      movieId: '',\n      movie: {},\n      movieIndex: 0\n    }\n  },\n  methods: {\n    getMovieInfo () {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\n        process.env.VUE_APP_CUSTOMPATH\n      }/product/${this.movieId}`\n      const vm = this\n      vm.$store.dispatch('updateLoading', true)\n      this.$http.get(api).then(response => {\n        console.log(response.data)\n        vm.movie = response.data.product\n        vm.$store.dispatch('updateLoading', false)\n      })\n    },\n    addtoCart (itemId, qty = 1) {\n      this.$store.dispatch('addtoCart', { itemId, qty })\n    },\n    addAttention () {\n      const vm = this\n      let movieIndex = 0\n      let movieId = vm.movieId\n      vm.movieIndex = this.$store.state.productsModules.products.findIndex(\n        function (item) {\n          return item.id === vm.movieId\n        }\n      )\n      let boolean = false\n      const currentItem = this.$store.state.productsModules.products[vm.movieIndex]\n      if (currentItem.attention) {\n        boolean = false\n        movieIndex = vm.movieIndex\n        this.$store.dispatch('addAttention', { movieId, movieIndex, boolean })\n      } else {\n        boolean = true\n        movieIndex = vm.movieIndex\n        this.$store.dispatch('addAttention', { movieId, movieIndex, boolean })\n      }\n    },\n    ...mapActions('productsModules', ['getProducts'])\n  },\n  computed: {\n    isLoading () {\n      return this.$store.state.isLoading\n    },\n    isAttention () {\n      if (this.$store.state.productsModules.products.length) {\n        return this.$store.state.productsModules.products[this.movieIndex].attention\n      } else {\n        return ''\n      }\n    },\n    ...mapGetters('productsModules', ['products', 'categories'])\n  },\n  created () {\n    this.movieId = this.$route.params.movieId\n    this.getMovieInfo()\n    this.getProducts()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Movieinfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Movieinfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Movieinfo.vue?vue&type=template&id=0b213fc8&\"\nimport script from \"./Movieinfo.vue?vue&type=script&lang=js&\"\nexport * from \"./Movieinfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Movieinfo.vue\"\nexport default component.exports"],"sourceRoot":""}