{"version":3,"sources":["webpack:///./src/components/Pagination.vue?7d4d","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?b5ee","webpack:///./src/components/Pagination.vue","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/pages/Orders.vue?06b9","webpack:///src/components/pages/Orders.vue","webpack:///./src/components/pages/Orders.vue?3543","webpack:///./src/components/pages/Orders.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","aria-label","staticClass","class","disabled","pages","has_pre","href","on","click","$event","preventDefault","updatePage","current_page","aria-hidden","_v","_l","page","key","active","_s","has_next","staticRenderFns","Paginationvue_type_script_lang_js_","props","methods","$emit","components_Paginationvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","fails","__webpack_require__","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","isLoading","update:active","orders","_m","item","text-danger","is_paid","_f","create_at","domProps","textContent","user","email","_e","product","index","title","qty","unit","total","pagination","page-event","getOrders","Ordersvue_type_script_lang_js_","data","components","Pagination","arguments","length","api","concat","vm","$http","get","then","response","console","log","computed","sortOrder","newOrder","a","b","aIsPaid","bIsPaid","created","pages_Ordersvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-320c014b.c357b33f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination\"},[_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pages.has_pre}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updatePage(_vm.pages.current_page - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")])])]),_vm._l((_vm.pages.total_pages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active': _vm.pages.current_page == page}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updatePage(page)}}},[_vm._v(_vm._s(page))])])}),_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pages.has_next}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updatePage(_vm.pages.current_page + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav aria-label=\"Page navigation example\">\n      <ul class=\"pagination\">\n        <li class=\"page-item\" :class=\"{'disabled': !pages.has_pre}\">\n          <a\n            class=\"page-link\"\n            href=\"#\"\n            aria-label=\"Previous\"\n            @click.prevent=\"updatePage(pages.current_page - 1)\"\n          >\n            <span aria-hidden=\"true\">&laquo;</span>\n          </a>\n        </li>\n        <li\n          class=\"page-item\"\n          :class=\"{'active': pages.current_page == page}\"\n          v-for=\"page in pages.total_pages\"\n          :key=\"page\"\n        >\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{'disabled': !pages.has_next}\">\n          <a\n            class=\"page-link\"\n            href=\"#\"\n            aria-label=\"Next\"\n            @click.prevent=\"updatePage(pages.current_page + 1)\"\n          >\n            <span aria-hidden=\"true\">&raquo;</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage (page) {\n      this.$emit('page-event', page)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=49bd5628&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(_vm.orders.length)?_c('table',{staticClass:\"table mt-4 text-white\"},[_vm._m(0),_c('tbody',_vm._l((_vm.sortOrder),function(item,key){return _c('tr',{key:key,class:{'text-danger': !item.is_paid}},[_c('td',[_vm._v(_vm._s(_vm._f(\"date\")(item.create_at)))]),_c('td',[(item.user)?_c('span',{domProps:{\"textContent\":_vm._s(item.user.email)}}):_vm._e()]),_c('td',[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((item.products),function(product,index){return _c('li',{key:index},[_vm._v(\"\\n              \"+_vm._s(product.product.title)+\" 數量：\"+_vm._s(product.qty)+\"\\n              \"+_vm._s(product.product.unit)+\"\\n            \")])}),0)]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_c('td',[(item.is_paid)?_c('strong',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"尚未起用\")])])])}),0)]):_vm._e(),_c('Pagination',{attrs:{\"pages\":_vm.pagination},on:{\"page-event\":_vm.getOrders}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"購買時間\")]),_c('th',[_vm._v(\"Email\")]),_c('th',[_vm._v(\"購買款項\")]),_c('th',[_vm._v(\"應付金額\")]),_c('th',[_vm._v(\"是否付款\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Loading :active.sync=\"isLoading\"></Loading>\n    <table class=\"table mt-4 text-white\" v-if=\"orders.length\">\n      <thead>\n        <tr>\n          <th>購買時間</th>\n          <th>Email</th>\n          <th>購買款項</th>\n          <th>應付金額</th>\n          <th>是否付款</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(item,key) in sortOrder\" :key=\"key\" :class=\"{'text-danger': !item.is_paid}\">\n          <td>{{ item.create_at | date }}</td>\n          <td>\n            <span v-text=\"item.user.email\" v-if=\"item.user\"></span>\n          </td>\n          <td>\n            <ul class=\"list-unstyled\">\n              <li v-for=\"(product, index) in item.products\" :key=\"index\">\n                {{ product.product.title }} 數量：{{ product.qty }}\n                {{ product.product.unit }}\n              </li>\n            </ul>\n          </td>\n          <td class=\"text-right\">{{ item.total | currency }}</td>\n          <td>\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\n            <span v-else class=\"text-muted\">尚未起用</span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <Pagination :pages=\"pagination\" @page-event=\"getOrders\"></Pagination>\n  </div>\n</template>\n\n<script>\nimport Pagination from '../Pagination'\nexport default {\n  data () {\n    return {\n      orders: {},\n      isLoading: false,\n      pagination: {}\n    }\n  },\n  components: {\n    Pagination\n  },\n  methods: {\n    getOrders (page = 1) {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${\n        process.env.VUE_APP_CUSTOMPATH\n      }/admin/orders?page=${page}`\n      const vm = this\n      vm.isLoading = true\n      this.$http.get(api).then(response => {\n        console.log(response.data)\n        vm.isLoading = false\n        vm.orders = response.data.orders\n        vm.pagination = response.data.pagination\n      })\n    }\n  },\n  computed: {\n    sortOrder () {\n      const vm = this\n      let newOrder = []\n      if (vm.orders.length) {\n        newOrder = vm.orders.sort((a, b) => {\n          const aIsPaid = a.is_paid ? 1 : 0\n          const bIsPaid = b.is_paid ? 1 : 0\n          return aIsPaid - bIsPaid\n        })\n      }\n      return newOrder\n    }\n  },\n  created () {\n    this.getOrders()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=70c4d6bd&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}