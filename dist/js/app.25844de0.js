(function(t){function e(e){for(var a,i,r=e[0],c=e[1],u=e[2],l=0,d=[];l<r.length;l++)i=r[l],o[i]&&d.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var r=n[i];0!==o[r]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},i={app:0},o={app:0},s=[];function r(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"cd1ad2c6","chunk-1e7197f7":"b6e569e7","chunk-2d0e1b26":"bc7b59c2","chunk-2d20efe4":"d689bbbc","chunk-2d210a66":"12ebc056","chunk-2d212f74":"17b1c881","chunk-320c014b":"cfc1beef","chunk-3fbeacb7":"c793a484","chunk-747034ac":"30255616","chunk-74e87954":"145c3859","chunk-9d716246":"5710bda8","chunk-e43cb550":"d55d7c17"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-1e7197f7":1,"chunk-74e87954":1,"chunk-9d716246":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise(function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"31d6cfe0","chunk-1e7197f7":"0e433876","chunk-2d0e1b26":"31d6cfe0","chunk-2d20efe4":"31d6cfe0","chunk-2d210a66":"31d6cfe0","chunk-2d212f74":"31d6cfe0","chunk-320c014b":"31d6cfe0","chunk-3fbeacb7":"31d6cfe0","chunk-747034ac":"31d6cfe0","chunk-74e87954":"f1aeadf9","chunk-9d716246":"01079e8d","chunk-e43cb550":"31d6cfe0"}[t]+".css",o=c.p+a,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var u=s[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){u=d[r],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.request=a,delete i[t],f.parentNode.removeChild(f),n(s)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){i[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(t),u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+a+": "+i+")");s.type=a,s.request=i,n[1](s)}o[t]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/vue-dashboard-demo/dist/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0710":function(t,e,n){},"21bb":function(t,e,n){"use strict";var a=n("bcc9"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=n("2f62"),o=n("bc3a"),s=n.n(o),r=n("a7fe"),c=n.n(r),u=n("9062"),l=n.n(u),d=n("7bb1"),f=n("427f"),m=n.n(f),p=(n("e40d"),n("7212")),h=n.n(p),v=(n("dfa4"),n("4989"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{attrs:{name:"header"}}),n("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),n("router-view"),t._m(0)],1)}),g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"text-muted py-3"},[n("div",{staticClass:"container"},[n("ul",{staticClass:"list-inline text-center m-0"},[n("li",{staticClass:"list-inline-item align-middle"},[t._v("© Copright 2019 黃昏電影院 純屬練習作品")]),n("li",{staticClass:"list-inline-item align-middle"},[n("a",{staticClass:"text-info",attrs:{href:"#"}},[n("i",{staticClass:"fab fa-instagram fa-2x"})])]),n("li",{staticClass:"list-inline-item align-middle"},[n("a",{staticClass:"text-info",attrs:{href:"#"}},[n("i",{staticClass:"fab fa-facebook-square fa-2x"})])])])])])}],b={data:function(){return{}},methods:{getCart:function(){this.$store.dispatch("getCart")}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.getCart()}},C=b,x=(n("5c0b"),n("2877")),_=Object(x["a"])(C,v,g,!1,null,null,null);_.options.__file="App.vue";var k=_.exports,y=n("8c4f"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Navbar"),n("Alert"),n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("Sidebar"),n("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[n("router-view")],1)],1)])],1)},T=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[n("div",{staticClass:"sidebar-sticky"},[t._m(0),n("ul",{staticClass:"nav flex-column mb-2"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[n("i",{staticClass:"fas fa-box-open"}),t._v("\n            產品列表\n          ")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[n("i",{staticClass:"far fa-list-alt"}),t._v("\n            訂單列表\n          ")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[n("i",{staticClass:"fas fa-ticket-alt"}),t._v("\n            優惠券\n          ")])],1)]),t._m(1),n("ul",{staticClass:"nav flex-column mb-2"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/simulation/customer_order"}},[n("i",{staticClass:"fas fa-shopping-cart"}),t._v("\n            模擬訂單\n          ")])],1)])])])])},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[n("span",[t._v("管理員")]),n("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[n("span",{attrs:{"data-feather":"plus-circle"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[n("span",[t._v("模擬功能")]),n("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[n("span",{attrs:{"data-feather":"plus-circle"}})])])}],O={},E=Object(x["a"])(O,A,I,!1,null,null,null);E.options.__file="Sidebar.vue";var N=E.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[n("router-link",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{to:"/"}},[t._v("週末電影院")]),t.routeName?n("input",{directives:[{name:"model",rawName:"v-model",value:t.search_video,expression:"search_video"}],staticClass:"form-control form-control-dark w-100",attrs:{type:"text",placeholder:"Search","aria-label":"Search"},domProps:{value:t.search_video},on:{input:function(e){e.target.composing||(t.search_video=e.target.value)}}}):t._e(),n("ul",{staticClass:"navbar-nav px-3"},[n("li",{staticClass:"nav-item text-nowrap"},[n("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[t._v("Sign out")])])])],1)])},S=[],$=(n("7f7f"),{computed:{search_video:{get:function(){return this.$store.state.search_video},set:function(t){this.$store.commit("UPDATEVALUE",t)}},routeName:function(){return"Product"==this.$route.name}},methods:{signout:function(){var t="".concat("https://vue-course-api.hexschool.io","/logout"),e=this;this.$http.post(t).then(function(t){console.log(t.data),t.data.success&&e.$router.push("/login")})}}}),L=$,j=Object(x["a"])(L,D,S,!1,null,null,null);j.options.__file="Navbar.vue";var P=j.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-alert"},t._l(t.messages,function(e,a){return n("div",{key:a,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v("\n    "+t._s(e.message)+"\n    "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.removeMessage(a)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0)},R=[],G=(n("ac6a"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var n=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:n}),this.removeMessageWithTiming(n)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout(function(){e.messages.forEach(function(n,a){n.timestamp===t&&e.messages.splice(a,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("message:push",function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,n)})}}),q=G,B=(n("7727"),Object(x["a"])(q,M,R,!1,null,null,null));B.options.__file="Alertmessage.vue";var U=B.exports,z={components:{Sidebar:N,Navbar:P,Alert:U}},V=z,J=Object(x["a"])(V,w,T,!1,null,null,null);J.options.__file="Dashboard.vue";var W=J.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Slider",{attrs:{imagesData:t.imgArr}}),n("div",{staticClass:"container main-content my-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"list-group sticky-top"},[n("a",{staticClass:"list-group-item list-group-item-action list-group-item-dark",class:{active:""===t.filterCategory},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterCategory=""}}},[t._v("全部顯示")]),t._l(t.categories,function(e){return n("a",{key:e,staticClass:"list-group-item list-group-item-action list-group-item-dark d-flex align-items-center",class:{active:e===t.filterCategory},attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.filterCategory=e}}},[n("i",{staticClass:"fas fa-video"}),t._v("\n             \n            "+t._s(e)+"\n            "),n("span",{staticClass:"badge badge-light badge-pill ml-auto"},[t._v(t._s(t.filterCategoryLength(e)))])])})],2)]),n("div",{staticClass:"col-md-9"},[n("div",{staticClass:"d-flex mb-4"},[n("h1",{staticClass:"text-light"},[t._v("強檔院線")]),n("form",{staticClass:"form-inline my-3 my-lg-0 ml-auto"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入關鍵字","aria-label":"Search"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.searchText=""}}},[n("i",{staticClass:"fa fa-times"})])])])])]),n("div",{staticClass:"tab-pane",attrs:{id:"list-gift"}},[n("div",{staticClass:"row align-items-stretch"},t._l(t.filterData,function(e){return n("div",{key:e.id,staticClass:"col-md-4 mb-4"},[n("div",{staticClass:"card border-0 box-shadow text-center h-100"},[n("div",{staticClass:"ribbon ribbon-info"},[t._v(t._s(e.category))]),n("img",{staticClass:"card-img-top",attrs:{src:e.imageUrl,alt:"Card image cap"}}),n("div",{staticClass:"card-body bg-dark"},[n("div",{staticClass:"d-flex"},[n("h4",{staticClass:"card-title text-light"},[t._v(t._s(e.title))]),n("div",{staticClass:"heart ml-auto",on:{click:function(n){t.addAttention(e.id)}}},[n("i",{staticClass:"fa-heart fa-lg text-white",class:{fas:e.attention,far:!e.attention,"text-danger":e.attention}})])]),n("p",{staticClass:"card-text text-left"},[t._v(t._s(e.content))])]),n("div",{staticClass:"card-footer bg-dark d-lg-flex border-white"},[n("button",{staticClass:"btn btn-outline-light btn-sm infoBtn",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),t.movieInfo(e.id)}}},[t._v("查看內容")]),n("button",{staticClass:"btn btn-outline-light btn-sm ml-auto infoBtn",on:{click:function(n){t.addtoCart(e.id)}}},[t.status.loadingItem===e.id?n("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),n("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 加到購物車\n                  ")])])])])}),0)])])])])],1)},H=[],X=(n("20d6"),n("6762"),n("2fdb"),n("cebc")),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"700px"}},[n("swiper",{ref:"swiperTop",staticClass:"gallery-top",attrs:{options:t.swiperOptionTop}},[t._l(t.imagesData,function(e,a){return n("swiper-slide",{key:a},[n("div",{staticClass:"overflow-hidden",style:{backgroundImage:"url("+e.pic+")",backgroundSize:"cover",backgroundPosition:"center",height:"100%"}},[n("div",{staticClass:"container mt-110 text-white p-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"tag mb-2"},[t._v(t._s(e.category))]),n("h1",{staticClass:"display-4"},[t._v(t._s(e.title))]),n("div",{staticClass:"description"},[t._v(t._s(t._f("beautySub")(e.des,50)))])])])])])])}),n("div",{staticClass:"swiper-button-next swiper-button-white",attrs:{slot:"button-next"},slot:"button-next"}),n("div",{staticClass:"swiper-button-prev swiper-button-white",attrs:{slot:"button-prev"},slot:"button-prev"})],2),n("swiper",{ref:"swiperThumbs",staticClass:"gallery-thumbs",attrs:{options:t.swiperOptionThumbs}},t._l(t.imagesData,function(t,e){return n("swiper-slide",{key:e},[n("div",{style:{backgroundImage:"url("+t.pic+")",backgroundSize:"cover",backgroundPosition:"center",height:"100%"}})])}),1)],1)},Q=[],Y={props:["imagesData"],data:function(){return{swiperOptionTop:{spaceBetween:10,autoplay:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},swiperOptionThumbs:{spaceBetween:10,centeredSlides:!0,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0}}},mounted:function(){var t=this;this.$nextTick(function(){var e=t.$refs.swiperTop.swiper,n=t.$refs.swiperThumbs.swiper;e.controller.control=n,n.controller.control=e})}},Z=Y,tt=(n("721e"),Object(x["a"])(Z,K,Q,!1,null,"3f812c1c",null));tt.options.__file="Movieslider.vue";var et=tt.exports,nt={name:"home",data:function(){return{searchText:"",filterCategory:"",imgArr:[{pic:"images/movie01.jpg",title:"辦公室大狂殺",category:"驚悚",des:"《厲陰宅》《安娜貝爾》《分裂》製作團隊，《星際異攻隊》導演詹姆斯岡恩撰寫劇本。史上最殘酷人性試煉！為了活下來，只好動手殺死身邊的同事們！80名平凡上班族，某天被困在平日上班的摩天大樓裡，廣播系統突然傳來不知名人士的聲音，恭喜他們獲選參加一場社會實驗，在接下來的時間裡，80個人必須用手邊可得的物品當作武器互相殘殺，沒有時限直到遊戲最後，只有1個人可以活著離開大樓…"},{pic:"images/movie02.jpg",title:"浴血圍城88天",category:"動作",des:"趙寅成 x 南柱赫 x 雪炫史詩悲壯主演，耗資215億韓元大製作，重現韓國歷史中最激烈的戰役！戰無不克的唐太宗，望擴大東亞領土，征戰高句麗，兵臨其邊境的安市城。20萬唐朝精銳大軍，對上僅5千人的安市城軍民，相差40倍之遙。城主楊萬春將軍，無畏大軍壓境，堅守城池，號召百姓們一同作戰，88天裡，與唐軍展開一場殊死決戰。"},{pic:"images/movie03.jpg",title:"魔女首部曲：誕生",category:"動作",des:"青龍最佳編劇朴勳正繼《闇黑新世界》後又一懸疑燒腦鉅作。十年前，一名小女孩拚命逃出了違背人類道德的基因改造營。幸運的被一對和藹的老夫妻收養了，並給她取名「具姿尹」。轉眼過了10年，姿尹長大成一個孝順父母又品學兼優的模範女孩。但是姿尹父母的健康卻隨著年紀越大而每況愈下，家中經濟也越來越糟糕。為了替父母分擔財務困難，姿尹決定去參加電視選秀比賽以獲得獎金。但平靜的生活也逐漸被吞噬，陌生男子一句：「我..."},{pic:"images/movie04.jpg",title:"視界戰",category:"科幻",des:"繼《鐘點戰》、《獵殺星期一》2018科幻動作鉅獻！《鐘點戰》導演攜手原班團隊，再造AR概念新領域，性感女星亞曼達挑戰尺度演出。不要輕易相信你的眼睛。2030年的未來政府從幼兒一出生就植入瞳孔晶片，任何行為都在監管之下。"},{pic:"images/movie05.jpg",title:"無雙",category:"動作",des:"周潤發 X 郭富城鈔級大騙！香港電影罕見美元偽鈔製作鬥智鬥狠情節。「超級美鈔」是一款連美國中央銀行體系都難辨真偽的假鈔，在1990年代肆虐全球。其中，以代號「畫家」為首的犯罪集團，夥同造假天才李問等成員，成功掌握了製造超級美鈔的技術，引起國際警方高度重視。為了找出首腦「畫家」，警方逼供落網的李問，然而依循李問提供的線索搜查，卻讓警方遭受到了意想不到的挑戰！［This content is p..."}],movieId:0,movieIndex:0}},computed:Object(X["a"])({filterData:function(){var t=this;return t.filterCategory?t.products.filter(function(e){return e.category.includes(t.filterCategory)}):t.searchText?t.products.filter(function(e){return e.title.toLowerCase().includes(t.searchText.toLowerCase())}):t.products},status:function(){return this.$store.state.status}},Object(i["c"])("productsModules",["products","categories"])),methods:Object(X["a"])({addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addtoCart",{itemId:t,qty:e})},movieInfo:function(t){this.$router.push("/movieinfo/".concat(t))},addAttention:function(t){var e=this,n=0;e.movieId=t,e.movieIndex=this.$store.state.productsModules.products.findIndex(function(t){return t.id==e.movieId});var a=!1,i=this.$store.state.productsModules.products[e.movieIndex];i.attention?(a=!1,n=e.movieIndex,console.log(t),this.$store.dispatch("addAttention",{movieId:t,movieIndex:n,boolean:a})):(a=!0,n=e.movieIndex,console.log(t),this.$store.dispatch("addAttention",{movieId:t,movieIndex:n,boolean:a}))},filterCategoryLength:function(t){return this.$store.state.productsModules.products.filter(function(e){return e.category==t}).length}},Object(i["b"])("productsModules",["getProducts"])),created:function(){this.getProducts()},components:{Slider:et}},at=nt,it=(n("21bb"),Object(x["a"])(at,F,H,!1,null,null,null));it.options.__file="Home.vue";var ot=it.exports;a["a"].use(y["a"]);var st=new y["a"]({linkExactActiveClass:"active",routes:[{path:"*",redirect:"login"},{path:"/",name:"home",components:{default:ot,header:function(){return n.e("chunk-747034ac").then(n.bind(null,"2f215"))}},children:[]},{path:"/movieinfo/:movieId",name:"Movieinfo",components:{default:function(){return n.e("chunk-1e7197f7").then(n.bind(null,"3641"))},header:function(){return n.e("chunk-747034ac").then(n.bind(null,"2f215"))}}},{path:"/favorites",name:"Favorite",components:{default:function(){return n.e("chunk-2d212f74").then(n.bind(null,"ab52"))},header:function(){return n.e("chunk-747034ac").then(n.bind(null,"2f215"))}}},{path:"/cart",name:"Cart",components:{default:function(){return n.e("chunk-9d716246").then(n.bind(null,"4e03"))},header:function(){return n.e("chunk-747034ac").then(n.bind(null,"2f215"))}}},{path:"/check_out_payment/:orderId",name:"CheckOutPayment",components:{default:function(){return n.e("chunk-2d0e1b26").then(n.bind(null,"7c15"))},header:function(){return n.e("chunk-747034ac").then(n.bind(null,"2f215"))}}},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/login",name:"Login",component:function(){return n.e("chunk-74e87954").then(n.bind(null,"2ab8"))}},{path:"/admin",name:"dashboard",component:W,children:[{path:"products",name:"Product",component:function(){return n.e("chunk-3fbeacb7").then(n.bind(null,"2b21"))},meta:{requireAuth:!0}},{path:"orders",name:"Order",component:function(){return n.e("chunk-320c014b").then(n.bind(null,"6023"))},meta:{requireAuth:!0}},{path:"coupons",name:"Coupon",component:function(){return n.e("chunk-e43cb550").then(n.bind(null,"0541"))},meta:{requireAuth:!0}}]},{path:"/simulation",name:"dashboard",component:W,children:[{path:"customer_order",name:"CustomerOrder",component:function(){return n.e("chunk-2d210a66").then(n.bind(null,"b992"))}},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:function(){return n.e("chunk-2d20efe4").then(n.bind(null,"b275"))}}]}]}),rt=n("f499"),ct=n.n(rt),ut=n("75fc"),lt=n("b6d0"),dt=n.n(lt),ft={namespaced:!0,state:{products:[],categories:[]},actions:{getProducts:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gx7879","/products/all");t.commit("LOADING",!0,{root:!0}),s.a.get(e).then(function(e){if(localStorage.getItem("attention")){var n=JSON.parse(localStorage.getItem("attention"));t.commit("ATTENTIONARR",{attentionItem:n,isNew:!0},{root:!0}),e.data.products.forEach(function(t){n.indexOf(t.id)>-1?t.attention=!0:t.attention=!1})}else e.data.products.forEach(function(t){t.attention=!1});t.commit("PRODUCTS",e.data.products),t.commit("CATEGORIES",e.data.products),t.dispatch("attentionData",e.data.products,{root:!0}),t.commit("LOADING",!1,{root:!0})})}},mutations:{PRODUCTS:function(t,e){t.products=e},CATEGORIES:function(t,e){var n=new dt.a;e.forEach(function(t){n.add(t.category)}),t.categories=Object(ut["a"])(n)}},getters:{products:function(t){return t.products},categories:function(t){return t.categories}}};a["a"].use(i["a"]);var mt=new i["a"].Store({strict:!0,state:{isLoading:!1,cart:{carts:{}},attentionArr:[],attentionData:[],status:{loadingItem:""},search_video:""},mutations:{LOADING:function(t,e){t.isLoading=e},CART:function(t,e){t.cart=e},ATTENTION:function(t,e){t.productsModules.products[e.movieIndex].attention=e.boolean},ATTENTIONARR:function(t,e){if(e.isNew)t.attentionArr=e.attentionItem;else if(t.attentionArr.indexOf(e.movieId)>-1){console.log(t.attentionArr);var n=t.attentionArr.findIndex(function(t){return t==e.movieId});console.log(n),t.attentionArr.splice(n,1),localStorage.setItem("attention",ct()(t.attentionArr))}else t.attentionArr.push(e.movieId),localStorage.setItem("attention",ct()(t.attentionArr))},ATTENTIONDATA:function(t,e){t.attentionData=e},LOADINGITEM:function(t,e){t.status.loadingItem=e},UPDATEVALUE:function(t,e){t.search_video=e}},actions:{updateLoading:function(t,e){t.commit("LOADING",e)},getCart:function(t){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("gx7879","/cart");t.commit("LOADING",!0),s.a.get(e).then(function(e){console.log(e.data),e.data.data.carts&&t.commit("CART",e.data.data),t.commit("LOADING",!1)})},removeCart:function(t,e){var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("gx7879","/cart/").concat(e);t.commit("LOADING",!0),s.a.delete(n).then(function(e){t.dispatch("getCart"),console.log("刪除購物車項目",e),t.commit("LOADING",!1)})},addtoCart:function(t,e){var n=e.itemId,a=e.qty,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("gx7879","/cart");t.commit("LOADINGITEM",n);var o={product_id:n,qty:a};s.a.post(i,{data:o}).then(function(e){console.log(e.data),t.dispatch("getCart"),t.commit("LOADINGITEM","")})},addAttention:function(t,e){var n=e.movieId,a=e.movieIndex,i=e.boolean;t.commit("ATTENTIONARR",{movieId:n,isNew:!1}),t.commit("ATTENTION",{movieIndex:a,boolean:i})},attentionData:function(t,e){var n=e.filter(function(e){return t.state.attentionArr.indexOf(e.id)>-1});t.commit("ATTENTIONDATA",n)}},getters:{},modules:{productsModules:ft}});a["a"].prototype.$bus=new a["a"];n("a481"),n("c5f6");var pt=function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,function(t,e,n){var a=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a}))},ht=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()},vt=(n("4917"),function(t,e){var n=/[\u4e00-\u9fa5]/g,a=t.substring(0,e),i=~~(a.match(n)&&a.match(n).length),o=2*a.length-i;return t.substr(0,o)+(o<t.length?"...":"")});a["a"].config.productionTip=!1,a["a"].use(c.a,s.a),a["a"].use(i["a"]),a["a"].use(d["a"]),a["a"].use(h.a),d["a"].Validator.localize("zh_TW",m.a),a["a"].component("Loading",l.a),a["a"].filter("currency",pt),a["a"].filter("date",ht),a["a"].filter("beautySub",vt),s.a.defaults.withCredentials=!0,new a["a"]({router:st,store:mt,render:function(t){return t(k)}}).$mount("#app"),st.beforeEach(function(t,e,n){if(console.log("to",t,"from",e,"next",n),t.meta.requireAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");s.a.post(a).then(function(t){console.log(t.data),t.data.success?n():n({path:"/login"})})}else n()})},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),i=n.n(a);i.a},"5e27":function(t,e,n){},"721e":function(t,e,n){"use strict";var a=n("c79e"),i=n.n(a);i.a},7727:function(t,e,n){"use strict";var a=n("0710"),i=n.n(a);i.a},bcc9:function(t,e,n){},c79e:function(t,e,n){}});
//# sourceMappingURL=app.25844de0.js.map